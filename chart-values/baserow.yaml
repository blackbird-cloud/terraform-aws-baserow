global:
  baserow:
    domain: "${domain_name}"
    backendDomain: "${backend_domain_name}"
    objectsDomain: "${objects_domain_name}"
    serviceAccount:
      shared: true
      create: true
      name: baserow
      annotations: {
        "eks.amazonaws.com/role-arn": "${eks_role_arn}"
      }

backendSecrets:
  DATABASE_HOST: "${database_host}"
  DATABASE_PORT: "5432"
  DATABASE_NAME: "baserow"
  DATABASE_USER: "baserow"
  DATABASE_PASSWORD: "${database_password}"
  REDIS_HOST: "${redis_host}"
  REDIS_PORT: "6379"
  REDIS_USER: "default"
  REDIS_PASSWORD: "${redis_password}"
  REDIS_PROTOCOL: "rediss"
  
backendConfigMap:
  AWS_STORAGE_BUCKET_NAME: "${s3_bucket_name}"
  AWS_S3_CUSTOM_DOMAIN: "${s3_bucket_name}"
  AWS_S3_REGION_NAME: "${s3_region_name}"
  AWS_S3_ENDPOINT_URL: "${s3_endpoint_url}"
  BASEROW_EXTRA_ALLOWED_HOSTS: "*"
  DONT_UPDATE_FORMULAS_AFTER_MIGRATION: "yes"
  SYNC_TEMPLATES_ON_STARTUP: "false"
  MIGRATE_ON_STARTUP: "false"
  BASEROW_TRIGGER_SYNC_TEMPLATES_AFTER_MIGRATION: "true"

ingress:
  enabled: true
  annotations:
    kubernetes.io/ingress.class: "alb"
    alb.ingress.kubernetes.io/healthcheck-path: "/_health/"
    alb.ingress.kubernetes.io/healthcheck-port: "3000"
    alb.ingress.kubernetes.io/healthcheck-protocol: HTTP
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}, {"HTTPS": 443}]'
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/ssl-redirect: '443'
    alb.ingress.kubernetes.io/target-type: ip

caddy:
  enabled: false

redis:
  enabled: false

postgresql:
  enabled: false

minio:
  enabled: false

keda:
  enabled: false
  scaling:
    export:
      enabled: true
      queueName: "export"
      queueLength: 10
      activationLength: 1
    worker:
      enabled: true
      queueName: "celery"
      queueLength: 10
      activationLength: 1
